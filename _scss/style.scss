/* Parallax
--------------------------------------------- */

// Use groups!! Make several groups that look exactly like .parallax does
// right now, then nest them side-by-side inside one larger div, like a
// mosaic. The same way Keith's demo has groups stacked vertically so that
// you can scroll down through them and always see something, if I stack
// my groups vertically *and* horizontally, I should be able to do the same
// thing in every direction and----
//
// NEVER MIND I DID IT I JUST SHOULD HAVE TURNED DEBUG OFF
// LOL FUCK ME
// IT WORKS

// Variables

$parallax-container-width: 100vw;
$parallax-container-height: 100vh;

$parallax-layer-width: 2 * $parallax-container-width;
$parallax-layer-height: 2 * $parallax-container-height;

.parallax {
  width: $parallax-container-width;
  height: $parallax-container-height;
  border: 1px solid purple;
  overflow-x: auto;
  overflow-y: auto;
  -webkit-perspective: 100px;
  perspective: 100px;
  perspective-origin: center;
  // margin: auto;
  // position: fixed;
  // top: 50%;
  // left: 50%;
  // transform: translateX(-50%) translateY(-50%);
}

#inner {
  position: absolute;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
}

.parallax__layer {
  position: absolute;
  -webkit-transform-style: preserve-3d;
  transform-style: preserve-3d;
  -webkit-transition: -webkit-transform 0.5s;
  transition: transform 0.5s;
  // transform: translateX(-50%) translateY(-50%);
  width: $parallax-layer-width;
  height: $parallax-layer-height;
  border: 2px solid red;
}

.parallax__layer--0 {
  transform: translateZ(0px) scale(1);
  z-index: 0;
  background: url(F4552018.jpg);
  background-position: center;
  background-size: cover;
}
.parallax__layer--1 {
  transform: translateZ(10px) scale(0.9);
  z-index: 1;
}
.parallax__layer--2 {
  transform: translateZ(20px) scale(0.8);
  z-index: 2;
}
.parallax__layer--3 {
  transform: translateZ(30px) scale(0.7);
  z-index: 3;
}
.parallax__layer--4 {
  transform: translateZ(40px) scale(0.6);
  z-index: 4;
}
.parallax__layer--5 {
  transform: translateZ(50px) scale(0.5);
  z-index: 5;
}
.parallax__layer--6 {
  transform: translateZ(60px) scale(0.4);
  z-index: 6;
}
.parallax__layer--7 {
  transform: translateZ(70px) scale(0.3);
  z-index: 7;
}
.parallax__layer--8 {
  transform: translateZ(80px) scale(0.2);
  z-index: 8;
}
.parallax__layer--9 {
  transform: translateZ(90px) scale(0.1);
  z-index: 9;
}

/* demo styles
--------------------------------------------- */

body, html {
  // overflow: hidden;
}

body {
  font: 100% / 1.5 Arial;
}

* {
  margin:0;
  padding:0;
}

/* style the groups
--------------------------------------------- */

#background {
  display: block;
  position: absolute;
  border: 2px solid green;
  width: $parallax-layer-width;
  height: $parallax-layer-height;
  overflow: visible;
  // top: 0;
  // right: 0;
  // bottom: 0;
  // left: 0;
  background: url(F4552018.jpg);
  background-position: center;
  background-size: cover;
  // margin: -200px; -- these make the final computed size of the background
  // padding: 200px; -- more than 2000x800 px
  // #imgWrapper {
  //   display: block;
  //   position: absolute;
  //   width: 0px;
  //   height: 0px;
  //   vertical-align: middle;
  //   img {
  //     position: absolute;
  //     left: 50%;
  //     top: 50%;
  //     // transform: translateX(-50%) translateY(-50%);
  //     width: 2000px;
  //   }
  // }
}

.project {
  // width: 800px;
  // height: 500px;
  position: absolute;
  top: 0px;
  left: 0px;
  bottom: 0px;
  right: 0px;
  img {
    display: block;
    width: 500px;
    z-index: 3;
  }
  h1 {
    font-family: Helvetica, Arial, sans-serif;
    font-size: 80px;
    line-height: 1;
    position: absolute;
    top: 60px;
    left: 480px;
    z-index: 5;
  }
  p {
    font-family: Helvetica, Arial, sans-serif;
    font-size: 20px;
    color: white;
    position: absolute;
    top: 300px;
    left: 200px;
    z-index: 7;
  }
}

#project-1 {
  position: absolute;
  top: 420px;
  left: 1000px;
}

#project-2 {
  position: absolute;
  top: 190px;
  left: 300px;
}

#project-3 {
  position: absolute;
  top: 650px;
  left: 800px;
}

#project-4 {
  position: absolute;
  top: 900px;
  left: 2200px;
}

#test1 {
  position: absolute;
  width: $parallax-layer-width;
  height: $parallax-layer-height;
  border: 2px solid red;
  font-size: 20px;
}
#test2 {
  position: absolute;
  width: $parallax-layer-width;
  height: $parallax-layer-height;
  border: 2px solid red;
  font-size: 20px;
}
#test3 {
  position: absolute;
  width: $parallax-layer-width;
  height: $parallax-layer-height;
  border: 2px solid red;
  font-size: 20px;
}


/* Debugger
--------------------------------------------- */

.debug {
  position: fixed;
  top: 0;
  left: .5em;
  z-index: 999;
  background: rgba(0,0,0,.85);
  color: #fff;
  padding: .5em;
  border-radius: 0 0 5px 5px;
}
.debug-on .parallax__layer {
  -webkit-transform: rotateY(1deg);
  transform: rotateY(1deg);
  box-shadow: 0 0 0 2px #000;
  opacity: 0.8;
  -webkit-transition: -webkit-transform 0.5s;
  transition: transform 0.5s;
  &.parallax__layer--deep {
    -webkit-transform: translate3d(0, 0, -400px);
    transform: translate3d(0, 0, -400px);
  }
  &.parallax__layer--back {
    -webkit-transform: translate3d(0, 0, -300px);
    transform: translate3d(0, 0, -300px);
  }
  &.parallax__layer--base {
    -webkit-transform: translate3d(0, 0, -200px);
    transform: translate3d(0, 0, -200px);
  }
  &.parallax__layer--fore {
    -webkit-transform: translate3d(0, 0, -100px);
    transform: translate3d(0, 0, -100px);
  }
}
